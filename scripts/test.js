'const bot = "../assets/bot.svg"\nconst user = "../assets/user.svg"\nconst form = document.querySelector("form")\nconst chatContainer = document.querySelector("#chat_container")\nvar firebaseConfig = {apiKey: "AIzaSyArIyFKvHKgy5ZJWFeuDJyLpqd1GApsrrY",authDomain: "chatbot-ca9b4.firebaseapp.com",\
 \n databaseURL: "https://chatbot-ca9b4-default-rtdb.firebaseio.com",\n projectId: "chatbot-ca9b4",storageBucket: "chatbot-ca9b4.appspot.com",\n messagingSenderId: "329318236351",\n appId: "1:329318236351:web:4ab6ab3ce70a6899f8860a"};firebase.initializeApp(firebaseConfig);\n var messagesRef = firebase.database().ref("botform");\n var database = firebase.database();\n var prompt_val = "";\n database.ref("botform").once("value", function(snapshot)\n {if (snapshot.exists()) {snapshot.forEach(function(data) {var val = data.val();\n prompt_val = val.prompt});}});\n let loadInterval\n function loader(element) {element.textContent = \' \'\n loadInterval = setInterval(() => {element.textContent += \'.\'\n if (element.textContent === \'....\') {element.textContent = \'\';}}, 300);}\n function typeText(element, text) {let index = 0 \n let interval = setInterval(() => {if (index < text.length) {element.innerHTML += text.charAt(index)\n index++ } else { clearInterval(interval) }}, 20)}\n function generateUniqueId() {const timestamp = Date.now();\n const randomNumber = Math.random();\n const hexadecimalString = randomNumber.toString(16);\n var result = `id-${timestamp}-${hexadecimalString}`\n console.log(timestamp)\n console.log(`${timestamp}-${hexadecimalString}`)\n console.log("result:",result)\n return  result;}\n function chatStripe(isAi, value, uniqueId) {return (`<div class="wrapper ${isAi && "ai"}"><div class="chat"> <div class="profile"><img src=${isAi ? bot : user} alt="${isAi ? "bot" : "user"}" /></div><div class="message" id=${uniqueId}>${value}</div> </div> </div>`)}\n function getInputVal(id) {return document.getElementById(id).value;}\n const handleSubmit = async (e) => {var message = getInputVal("promptmsgs");\n console.log(message)\n var newContactForm = messagesRef.push();\n newContactForm.update({prompt:message,});\n e.preventDefault()\n const data = new FormData(form)\n chatContainer.innerHTML += chatStripe(false,data.get("prompt"))\n form.reset()\n const uniqueId = generateUniqueId()\n chatContainer.innerHTML += chatStripe(true, " ", uniqueId)\n chatContainer.scrollTop = chatContainer.scrollHeight;\nconst messageDiv = document.getElementById(uniqueId)\nloader(messageDiv)\
\n const response = await fetch("https://chat-server-o6nz.onrender.com", {method: "POST",headers: {"Content-Type": "application/json",},\nbody: JSON.stringify({prompt:data.get("prompt")})})\nconsole.log(prompt_val)\nclearInterval(loadInterval)\nmessageDiv.innerHTML = " "\nif (response.ok) {const data = await response.json();\nconst parsedData = data.bot.trim()\n typeText(messageDiv, parsedData)} else {const err = await response.text()\n messageDiv.innerHTML = "Something went wrong"\nalert(err)}}\n form.addEventListener("submit", handleSubmit)\n form.addEventListener("keyup", (e) => {if (e.keyCode === 13) {handleSubmit(e)}})'
